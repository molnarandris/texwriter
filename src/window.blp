using Gtk 4.0;
using Adw 1;

template $TexwriterWindow: Adw.ApplicationWindow {
  title: _("TeXWriter");
  default-width: 800;
  default-height: 600;

  Adw.Breakpoint {
        condition ("max-width: 600sp")

        setters {
          pdf_viewer.visible: false;
          editor_header.show-end-title-buttons: true;
          editor_menu.visible: true;
        }
      }

  content: Paned {
      shrink-start-child: false;
      shrink-end-child: false;
    start-child: Adw.ToolbarView {
      [top]
      Adw.HeaderBar editor_header {
        show-end-title-buttons: false;
        [end]
        MenuButton editor_menu {
          visible: false;
          primary: true;
          icon-name: "open-menu-symbolic";
          tooltip-text: _("Main Menu");
          menu-model: primary_menu;
        }
      }

      content: Label {
        label: _("Editor");

        styles [
          "title-1",
        ]
      };
    };
    end-child: Adw.ToolbarView pdf_viewer {
      [top]
      Adw.HeaderBar {
        [end]
        MenuButton {
          primary: true;
          icon-name: "open-menu-symbolic";
          tooltip-text: _("Main Menu");
          menu-model: primary_menu;
        }
      }

      content: Label {
        label: _("Pdf");

        styles [
          "title-1",
        ]
      };
    };
  };
}

menu primary_menu {
  section {
    item {
      label: _("_Preferences");
      action: "app.preferences";
    }

    item {
      label: _("_Keyboard Shortcuts");
      action: "win.show-help-overlay";
    }

    item {
      label: _("_About TeXWriter");
      action: "app.about";
    }
  }
}
